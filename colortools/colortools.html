<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Free color identification tool - convert color codes to visual swatches or extract colors from any image with our precise eyedropper tool.">
  <meta name="keywords" content="color picker, color identifier, hex to image, rgb converter, image color extraction, design tools">
  <meta name="author" content="Your Website Name">
  <meta property="og:title" content="Color Identifier & Converter Tool">
  <meta property="og:description" content="Convert color codes to visual swatches or extract colors from images with our free online tool.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourwebsite.com/color-identifier">
  <meta property="og:image" content="https://yourwebsite.com/assets/images/color-tool-preview.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Color Identifier & Converter Tool">
  <meta name="twitter:description" content="Free online tool to convert color codes and extract colors from images.">
  
  <title>Color Identifier Tool - Convert Codes & Extract Colors from Images</title>
  
  <!-- Preconnect to external resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Your existing CSS file -->
  <link rel="stylesheet" href="/assets/style.css">
  
  <!-- Structured data for Google -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Color Identifier Tool",
    "description": "Free online tool to convert color codes to visual swatches and extract colors from images",
    "applicationCategory": "DesignApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Organization",
      "name": "Your Website Name"
    }
  }
  </script>
  
  <style>
    /* Additional CSS specific to the color tool */
    .tool-tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid var(--border);
      padding-bottom: 1rem;
    }

    .tab-btn {
      background: none;
      border: none;
      padding: 0.5rem 1rem;
      font-weight: 600;
      font-size: 0.95rem;
      color: var(--medium);
      cursor: pointer;
      border-radius: var(--radius-sm) var(--radius-sm) 0 0;
      transition: all 0.2s ease;
    }

    .tab-btn.active {
      color: var(--primary);
      background-color: rgba(59, 130, 246, 0.1);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .color-input-group {
      display: flex;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }

    .color-input {
      flex: 1;
      padding: 0.8rem 1.2rem;
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      font-size: 1rem;
      transition: border-color 0.2s;
    }

    .color-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }

    .color-preview {
      width: 80px;
      height: 48px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #e2e8f0;
      font-size: 0.75rem;
      color: var(--medium);
      flex-shrink: 0;
    }

    .color-display {
      height: 200px;
      border-radius: var(--radius-md);
      margin: 1.5rem 0;
      border: 2px dashed var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(45deg, #f8fafc 25%, transparent 25%, transparent 75%, #f8fafc 75%), 
                  linear-gradient(45deg, #f8fafc 25%, #e2e8f0 25%, #e2e8f0 75%, #f8fafc 75%);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
      position: relative;
      overflow: hidden;
    }

    .color-display.solid {
      background: #e2e8f0;
    }

    .upload-area {
      text-align: center;
      padding: 2rem;
      cursor: pointer;
      transition: all 0.2s ease;
      border-radius: var(--radius-md);
      border: 2px dashed var(--border);
    }

    .upload-area:hover {
      background-color: rgba(248, 250, 252, 0.7);
      border-color: var(--primary);
    }

    .upload-icon {
      font-size: 2.5rem;
      color: var(--medium);
      margin-bottom: 1rem;
    }

    .upload-text {
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .upload-subtext {
      font-size: 0.85rem;
      color: var(--light);
    }

    .color-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.25rem;
      margin-top: 1.5rem;
    }

    .color-detail-card {
      background: var(--background-light);
      border-radius: var(--radius-md);
      padding: 1.25rem;
      border: 1px solid var(--border);
      text-align: center;
      transition: all 0.2s ease;
    }

    .color-detail-card:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-sm);
    }

    .detail-value {
      font-weight: 700;
      font-size: 1.1rem;
      margin: 0.25rem 0;
      color: var(--dark);
      word-break: break-all;
    }

    .detail-label {
      font-size: 0.85rem;
      color: var(--medium);
      margin-bottom: 0.5rem;
    }

    .color-swatch {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin: 0 auto 0.75rem;
      border: 2px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .copy-btn {
      background: rgba(59, 130, 246, 0.1);
      color: var(--primary);
      border: none;
      padding: 0.35rem 0.75rem;
      border-radius: var(--radius-sm);
      font-weight: 500;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-top: 0.5rem;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .copy-btn:hover {
      background: rgba(59, 130, 246, 0.2);
    }

    .image-preview {
      max-width: 100%;
      max-height: 300px;
      display: block;
      margin: 0 auto;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      cursor: crosshair;
      transition: box-shadow 0.3s ease;
    }

    .image-preview:hover {
      box-shadow: var(--shadow-md);
    }

    .color-picker-info {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(4px);
      border-radius: var(--radius-md);
      padding: 1.25rem;
      margin-top: 1.5rem;
      border: 1px solid var(--border);
    }

    .instructions {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .instruction-icon {
      color: var(--primary);
      font-size: 1.2rem;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .color-palette {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
    }

    .palette-color {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-sm);
      border: 2px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .palette-color:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      z-index: 2;
    }

    .selected-color {
      position: relative;
    }

    .selected-color::after {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: calc(var(--radius-sm) + 4px);
      border: 2px solid var(--primary);
      pointer-events: none;
    }

    .color-info-panel {
      background: white;
      border-radius: var(--radius-md);
      padding: 1.5rem;
      margin-top: 1.5rem;
      border: 1px solid var(--border);
      box-shadow: var(--shadow-sm);
    }

    .color-coordinates {
      font-size: 0.9rem;
      color: var(--medium);
      margin-top: 0.25rem;
    }

    .tool-instructions {
      background-color: var(--background-light);
      border-radius: var(--radius-md);
      padding: 1rem;
      margin: 1.5rem 0;
      border-left: 3px solid var(--primary);
    }

    @media (max-width: 768px) {
      .color-input-group {
        flex-direction: column;
      }
      
      .color-preview {
        width: 100%;
        height: 60px;
      }
      
      .tool-tabs {
        flex-wrap: wrap;
      }
    }

    @media (max-width: 480px) {
      .color-details {
        grid-template-columns: 1fr;
      }
      
      .tool-tabs {
        flex-direction: column;
      }
      
      .tab-btn {
        width: 100%;
        text-align: center;
        border-radius: var(--radius-sm) !important;
        margin-bottom: 0.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar scrolled">
    <div class="container">
      <div class="logo-container">
        <div class="logo-icon">
          <i class="fas fa-palette"></i>
        </div>
        <div class="logo-text">ColorTools</div>
      </div>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/tools" class="active">Tools</a>
        <a href="/docs">Documentation</a>
        <a href="/about">About</a>
      </div>
      <button class="cta-button">
        <i class="fas fa-user"></i> Sign In
      </button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Color Identification & Conversion Tool</h1>
      <p>Convert color codes to visual swatches or extract precise colors from any image with our free online tool.</p>
      <div class="hero-buttons">
        <button class="primary-button">
          <i class="fas fa-magic"></i> Get Started Free
        </button>
        <button class="secondary-button" style="background: white; color: var(--primary); border: 1px solid var(--border);">
          <i class="fas fa-book"></i> View Documentation
        </button>
      </div>
      <div class="feature-badge">
        <div class="badge-dot"></div>
        <span>100% Free · No Registration · Privacy Focused</span>
      </div>
    </div>
  </section>

  <!-- Main Tool Content -->
  <section class="tools">
    <div class="container">
      <div class="section-header">
        <h2>Color Identification Tool</h2>
        <p>Two powerful ways to work with colors: convert color codes to visual swatches or extract colors from your images</p>
      </div>
      
      <div class="tools-grid">
        <div class="tool-card">
          <div class="tool-header">
            <div class="tool-icon-container">
              <i class="fas fa-eye-dropper tool-icon"></i>
            </div>
            <h2 class="tool-title">Color Identifier</h2>
            <p class="tool-description">Convert color codes or extract colors from images</p>
          </div>
          
          <div class="tool-body">
            <div class="tool-tabs">
              <button class="tab-btn active" data-tab="code-to-image">Code to Color</button>
              <button class="tab-btn" data-tab="image-picker">Image Color Picker</button>
            </div>
            
            <!-- Color Code to Image Tab -->
            <div class="tab-content active" id="code-to-image">
              <p class="tool-instructions">
                Enter a color code in HEX, RGB, or HSL format to see the visual representation and get converted values.
              </p>
              
              <div class="color-input-group">
                <input type="text" class="color-input" id="color-code" placeholder="#3B82F6 or rgb(59,130,246) or hsl(217,92%,60%)" value="#3B82F6" aria-label="Color code input">
                <div class="color-preview" id="color-preview" style="background-color: #3B82F6;" aria-label="Color preview"></div>
              </div>
              
              <div class="color-display solid" id="color-display" style="background-color: #3B82F6;">
                <span id="color-value" style="color: white; font-weight: 600; font-size: 1.5rem;">#3B82F6</span>
              </div>
              
              <div class="color-details">
                <div class="color-detail-card">
                  <div class="color-swatch" style="background-color: #3B82F6;"></div>
                  <div class="detail-label">HEX Code</div>
                  <div class="detail-value" id="hex-value">#3B82F6</div>
                  <button class="copy-btn" data-clipboard-target="#hex-value">
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
                
                <div class="color-detail-card">
                  <div class="color-swatch" style="background-color: #3B82F6;"></div>
                  <div class="detail-label">RGB Value</div>
                  <div class="detail-value" id="rgb-value">rgb(59, 130, 246)</div>
                  <button class="copy-btn" data-clipboard-target="#rgb-value">
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
                
                <div class="color-detail-card">
                  <div class="color-swatch" style="background-color: #3B82F6;"></div>
                  <div class="detail-label">HSL Value</div>
                  <div class="detail-value" id="hsl-value">hsl(218, 91%, 60%)</div>
                  <button class="copy-btn" data-clipboard-target="#hsl-value">
                    <i class="fas fa-copy"></i> Copy
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Image Color Picker Tab -->
            <div class="tab-content" id="image-picker">
              <p class="tool-instructions">
                Upload an image to extract colors. Click anywhere on the image to select a color, which will be added to your palette below.
              </p>
              
              <div class="upload-area" id="drop-area" role="button" tabindex="0" aria-label="Upload image area">
                <div class="upload-icon">
                  <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">Drag & Drop Your Image Here</div>
                <div class="upload-subtext">or click to browse files (JPG, PNG, WEBP supported)</div>
                <input type="file" id="image-input" accept="image/*" hidden aria-label="Image upload input">
              </div>
              
              <div id="image-container" style="display: none; margin: 1.5rem 0;">
                <img src="" class="image-preview" id="preview-image" alt="Uploaded image for color extraction">
                <p class="color-coordinates" id="color-coordinates">Hover over the image to see color values</p>
              </div>
              
              <div class="color-picker-info">
                <div class="instructions">
                  <div class="instruction-icon">
                    <i class="fas fa-mouse-pointer"></i>
                  </div>
                  <div>
                    <strong>How to pick colors:</strong> Hover over the image to see color values, click to select and save to your palette.
                  </div>
                </div>
                <div class="instructions">
                  <div class="instruction-icon">
                    <i class="fas fa-palette"></i>
                  </div>
                  <div>
                    <strong>Color palette:</strong> Your selected colors appear below for easy reference and copying.
                  </div>
                </div>
              </div>
              
              <div class="color-palette" id="color-palette" aria-label="Selected colors palette">
                <div class="palette-color" style="background-color: #3B82F6;" title="#3B82F6" data-color="#3B82F6"></div>
                <div class="palette-color" style="background-color: #8B5CF6;" title="#8B5CF6" data-color="#8B5CF6"></div>
                <div class="palette-color" style="background-color: #10B981;" title="#10B981" data-color="#10B981"></div>
                <div class="palette-color" style="background-color: #F59E0B;" title="#F59E0B" data-color="#F59E0B"></div>
              </div>
              
              <div class="color-info-panel" id="selected-color-info" style="display: none;">
                <h3>Selected Color Details</h3>
                <div class="color-display solid" id="selected-color-display" style="height: 100px; margin: 1rem 0;"></div>
                <div class="color-details">
                  <div class="color-detail-card">
                    <div class="color-swatch" id="selected-color-swatch"></div>
                    <div class="detail-label">HEX Code</div>
                    <div class="detail-value" id="selected-hex">#3B82F6</div>
                    <button class="copy-btn" data-clipboard-target="#selected-hex">
                      <i class="fas fa-copy"></i> Copy
                    </button>
                  </div>
                  
                  <div class="color-detail-card">
                    <div class="color-swatch" id="selected-color-swatch-2"></div>
                    <div class="detail-label">RGB Value</div>
                    <div class="detail-value" id="selected-rgb">rgb(59, 130, 246)</div>
                    <button class="copy-btn" data-clipboard-target="#selected-rgb">
                      <i class="fas fa-copy"></i> Copy
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="tool-footer">
            <div class="tool-action">
              <i class="fas fa-shield-alt"></i>
              <span>All processing happens in your browser - images are never uploaded to our servers</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="security-note">
        <div class="security-badge">
          <i class="fas fa-lock"></i>
          <span>Your privacy matters - all image processing happens locally in your browser</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <div class="footer-logo-icon">
            <i class="fas fa-palette"></i>
          </div>
        </div>
        <div class="footer-logo-text">ColorTools</div>
        <p class="footer-description">Professional color identification and conversion tools for designers and developers.</p>
        
        <div class="footer-links">
          <a href="/">Home</a>
          <a href="/tools">Tools</a>
          <a href="/docs">Documentation</a>
          <a href="/api">API</a>
          <a href="/privacy">Privacy Policy</a>
          <a href="/contact">Contact</a>
        </div>
        
        <p class="copyright">
          &copy; 2025 ColorTools. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- Google Tag Manager for analytics and GSC verification -->
  <script>
    // Basic Google Tag Manager setup (replace with your actual GTM ID)
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-XXXXXXX');
  </script>

  <script>
    // Tool functionality JavaScript
    document.addEventListener('DOMContentLoaded', function() {
      // Tab switching functionality
      document.querySelectorAll('.tab-btn').forEach(button => {
        button.addEventListener('click', () => {
          // Update tab buttons
          document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
          });
          button.classList.add('active');
          
          // Show corresponding content
          const tabId = button.getAttribute('data-tab');
          document.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
          });
          document.getElementById(tabId).classList.add('active');
        });
      });
      
      // Color code conversion functionality
      const colorInput = document.getElementById('color-code');
      const colorPreview = document.getElementById('color-preview');
      const colorDisplay = document.getElementById('color-display');
      const colorValue = document.getElementById('color-value');
      const hexValue = document.getElementById('hex-value');
      const rgbValue = document.getElementById('rgb-value');
      const hslValue = document.getElementById('hsl-value');
      
      function updateColorDisplay() {
        const color = colorInput.value.trim() || '#3B82F6';
        
        // Validate color before applying
        const isValidColor = validateColor(color);
        if (!isValidColor) return;
        
        // Update preview and display
        try {
          colorPreview.style.backgroundColor = color;
          colorDisplay.style.backgroundColor = color;
          colorValue.textContent = formatColorValue(color);
          
          // Get RGB values
          const rgb = getRGB(color);
          if (rgb) {
            hexValue.textContent = rgbToHex(rgb.r, rgb.g, rgb.b);
            rgbValue.textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            hslValue.textContent = rgbToHsl(rgb.r, rgb.g, rgb.b);
            
            // Update swatches
            document.querySelectorAll('.color-swatch').forEach(swatch => {
              swatch.style.backgroundColor = color;
            });
          }
        } catch (e) {
          console.error('Error updating color display:', e);
        }
      }
      
      function validateColor(color) {
        const canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#fff'; // default color
        ctx.fillStyle = color;
        return ctx.fillStyle !== '#fff' || color.toLowerCase() === '#fff';
      }
      
      function formatColorValue(color) {
        if (color.startsWith('#')) {
          // Ensure hex is in consistent format (uppercase, 6 digits)
          if (color.length === 4) {
            return `#${color[1]}${color[1]}${color[2]}${color[2]}${color[3]}${color[3]}`.toUpperCase();
          }
          return color.toUpperCase();
        }
        return color;
      }
      
      function getRGB(color) {
        const canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = color;
        ctx.fillRect(0, 0, 1, 1);
        const data = ctx.getImageData(0, 0, 1, 1).data;
        return { r: data[0], g: data[1], b: data[2] };
      }
      
      function rgbToHex(r, g, b) {
        return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
      }
      
      function rgbToHsl(r, g, b) {
        r /= 255;
        g /= 255;
        b /= 255;
        const max = Math.max(r, g, b), min = Math.min(r, g, b);
        let h, s, l = (max + min) / 2;
        
        if (max === min) {
          h = s = 0; // achromatic
        } else {
          const d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
          switch (max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
          }
          h /= 6;
        }
        
        return `hsl(${Math.round(h * 360)}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%)`;
      }
      
      colorInput.addEventListener('input', updateColorDisplay);
      updateColorDisplay();
      
      // Copy functionality
      document.querySelectorAll('.copy-btn').forEach(button => {
        button.addEventListener('click', function() {
          const targetId = this.getAttribute('data-clipboard-target');
          const targetElement = document.querySelector(targetId);
          const text = targetElement.textContent;
          
          navigator.clipboard.writeText(text).then(() => {
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i> Copied!';
            this.style.backgroundColor = 'rgba(16, 185, 129, 0.2)';
            this.style.color = 'var(--success)';
            
            setTimeout(() => {
              this.innerHTML = originalText;
              this.style.backgroundColor = '';
              this.style.color = '';
            }, 2000);
          }).catch(err => {
            console.error('Failed to copy text: ', err);
          });
        });
      });
      
      // Image upload functionality
      const dropArea = document.getElementById('drop-area');
      const imageInput = document.getElementById('image-input');
      const imageContainer = document.getElementById('image-container');
      const previewImage = document.getElementById('preview-image');
      const colorCoordinates = document.getElementById('color-coordinates');
      
      // Click to upload
      dropArea.addEventListener('click', () => {
        imageInput.click();
      });
      
      // Keyboard accessibility for drop area
      dropArea.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          imageInput.click();
        }
      });
      
      // Handle file selection
      imageInput.addEventListener('change', handleImageUpload);
      
      // Drag and drop functionality
      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, preventDefaults, false);
      });
      
      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }
      
      ['dragenter', 'dragover'].forEach(eventName => {
        dropArea.addEventListener(eventName, highlight, false);
      });
      
      ['dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, unhighlight, false);
      });
      
      function highlight() {
        dropArea.style.borderColor = 'var(--primary)';
        dropArea.style.backgroundColor = 'rgba(248, 250, 252, 0.7)';
      }
      
      function unhighlight() {
        dropArea.style.borderColor = '';
        dropArea.style.backgroundColor = '';
      }
      
      dropArea.addEventListener('drop', handleDrop, false);
      
      function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        
        if (files.length) {
          imageInput.files = files;
          handleImageUpload();
        }
      }
      
      function handleImageUpload() {
        const file = imageInput.files[0];
        if (!file || !file.type.match('image.*')) {
          alert('Please select a valid image file (JPG, PNG, or WEBP).');
          return;
        }
        
        const reader = new FileReader();
        
        reader.onload = (e) => {
          previewImage.src = e.target.result;
          imageContainer.style.display = 'block';
          dropArea.style.display = 'none';
          
          // Initialize color picker functionality after image loads
          previewImage.addEventListener('load', initColorPicker);
        };
        
        reader.readAsDataURL(file);
      }
      
      function initColorPicker() {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = previewImage.width;
        canvas.height = previewImage.height;
        ctx.drawImage(previewImage, 0, 0, canvas.width, canvas.height);
        
        let lastColor = null;
        
        previewImage.addEventListener('mousemove', (e) => {
          const rect = previewImage.getBoundingClientRect();
          const x = Math.floor((e.clientX - rect.left) * (canvas.width / rect.width));
          const y = Math.floor((e.clientY - rect.top) * (canvas.height / rect.height));
          
          if (x >= 0 && x < canvas.width && y >= 0 && y < canvas.height) {
            const pixelData = ctx.getImageData(x, y, 1, 1).data;
            const color = `rgb(${pixelData[0]}, ${pixelData[1]}, ${pixelData[2]})`;
            const hexColor = rgbToHex(pixelData[0], pixelData[1], pixelData[2]);
            
            if (color !== lastColor) {
              colorCoordinates.textContent = `Color at (${x}, ${y}): ${hexColor} | ${color}`;
              lastColor = color;
            }
          }
        });
        
        previewImage.addEventListener('click', (e) => {
          const rect = previewImage.getBoundingClientRect();
          const x = Math.floor((e.clientX - rect.left) * (canvas.width / rect.width));
          const y = Math.floor((e.clientY - rect.top) * (canvas.height / rect.height));
          
          if (x >= 0 && x < canvas.width && y >= 0 && y < canvas.height) {
            const pixelData = ctx.getImageData(x, y, 1, 1).data;
            const hexColor = rgbToHex(pixelData[0], pixelData[1], pixelData[2]);
            const rgbColor = `rgb(${pixelData[0]}, ${pixelData[1]}, ${pixelData[2]})`;
            const hslColor = rgbToHsl(pixelData[0], pixelData[1], pixelData[2]);
            
            // Add to palette
            addToPalette(hexColor);
            
            // Show selected color info
            showSelectedColorInfo(hexColor, rgbColor, hslColor, x, y);
            
            // Visual feedback
            showColorPickedEffect(e.clientX, e.clientY, hexColor);
          }
        });
      }
      
      function addToPalette(hexColor) {
        const palette = document.getElementById('color-palette');
        
        // Check if color already exists
        const existingColors = Array.from(palette.children).map(el => el.getAttribute('data-color'));
        if (existingColors.includes(hexColor)) return;
        
        // Create new color element
        const newColor = document.createElement('div');
        newColor.className = 'palette-color';
        newColor.style.backgroundColor = hexColor;
        newColor.title = hexColor;
        newColor.setAttribute('data-color', hexColor);
        newColor.setAttribute('role', 'button');
        newColor.setAttribute('tabindex', '0');
        newColor.setAttribute('aria-label', `Color ${hexColor}`);
        
        newColor.addEventListener('click', () => {
          selectPaletteColor(hexColor);
        });
        
        newColor.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            selectPaletteColor(hexColor);
          }
        });
        
        // Add to beginning of palette
        palette.insertBefore(newColor, palette.firstChild);
        
        // Limit palette size
        if (palette.children.length > 12) {
          palette.removeChild(palette.lastChild);
        }
      }
      
      function selectPaletteColor(hexColor) {
        const rgb = getRGB(hexColor);
        if (rgb) {
          const rgbColor = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
          const hslColor = rgbToHsl(rgb.r, rgb.g, rgb.b);
          showSelectedColorInfo(hexColor, rgbColor, hslColor, null, null);
        }
      }
      
      function showSelectedColorInfo(hexColor, rgbColor, hslColor, x, y) {
        const infoPanel = document.getElementById('selected-color-info');
        const colorDisplay = document.getElementById('selected-color-display');
        const hexElement = document.getElementById('selected-hex');
        const rgbElement = document.getElementById('selected-rgb');
        const swatch1 = document.getElementById('selected-color-swatch');
        const swatch2 = document.getElementById('selected-color-swatch-2');
        
        colorDisplay.style.backgroundColor = hexColor;
        hexElement.textContent = hexColor;
        rgbElement.textContent = rgbColor;
        swatch1.style.backgroundColor = hexColor;
        swatch2.style.backgroundColor = hexColor;
        
        if (x !== null && y !== null) {
          document.querySelector('#selected-color-info h3').textContent = 
            `Selected Color at (${x}, ${y})`;
        } else {
          document.querySelector('#selected-color-info h3').textContent = 
            'Selected Color Details';
        }
        
        infoPanel.style.display = 'block';
        
        // Scroll to the info panel
        infoPanel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
      
      function showColorPickedEffect(clientX, clientY, color) {
        const effect = document.createElement('div');
        effect.style.position = 'fixed';
        effect.style.left = `${clientX - 20}px`;
        effect.style.top = `${clientY - 20}px`;
        effect.style.width = '40px';
        effect.style.height = '40px';
        effect.style.borderRadius = '50%';
        effect.style.backgroundColor = color;
        effect.style.border = '2px solid white';
        effect.style.boxShadow = '0 0 0 9999px rgba(0,0,0,0.2)';
        effect.style.pointerEvents = 'none';
        effect.style.zIndex = '10000';
        effect.style.transition = 'all 0.3s ease-out';
        
        document.body.appendChild(effect);
        
        // Animate the effect
        setTimeout(() => {
          effect.style.transform = 'scale(2.5)';
          effect.style.opacity = '0.7';
        }, 10);
        
        setTimeout(() => {
          effect.style.transform = 'scale(5)';
          effect.style.opacity = '0';
        }, 300);
        
        setTimeout(() => {
          document.body.removeChild(effect);
        }, 600);
      }
      
      // Initialize palette color selection
      document.querySelectorAll('.palette-color').forEach(colorEl => {
        colorEl.addEventListener('click', function() {
          document.querySelectorAll('.palette-color').forEach(el => {
            el.classList.remove('selected-color');
          });
          this.classList.add('selected-color');
          
          const color = this.getAttribute('data-color');
          selectPaletteColor(color);
        });
      });
      
      // Sticky navigation
      window.addEventListener('scroll', () => {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 50) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });
    });
  </script>
  
  <!-- Google Search Console verification meta tag -->
  <meta name="google-site-verification" content="YOUR_GSC_VERIFICATION_CODE_HERE" />
</body>
</html>