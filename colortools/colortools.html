<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/styles.css">
  <link rel="stylesheet" href="/colortools/colortools.css">
  
  <!--
    Google Search Console Verification - Updated with proper verification format
    Replace the content value with your actual verification code from Google Search Console
  -->
  <meta name="google-site-verification" content="GTM-XXXXXXXX" />
  <meta name="description" content="Professional color identification tool - convert color codes to visual swatches or extract colors from any image with our precise eyedropper tool.">
  <meta name="keywords" content="color picker, color identifier, hex to image, rgb converter, image color extraction, design tools, color palette generator, accessibility contrast checker">
  <meta name="author" content="HappyEdit">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#3b82f6">
  <meta property="og:title" content="ColorTools - Professional Color Identification & Conversion Tool">
  <meta property="og:description" content="Convert color codes to visual swatches or extract precise colors from any image with our free online tool.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://happyedit.dpdns.org/assets/favicon.png">
  <meta property="og:site_name" content="ColorTools">
  
  <!--
    Twitter Card Meta Tags - For Twitter sharing optimization
    These tags control how the page appears when shared on Twitter
  -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ColorTools - Professional Color Identification Tool">
  <meta name="twitter:description" content="Free online tool to convert color codes and extract colors from images with accessibility checking.">
  <meta name="twitter:image" content="https://happyedit.dpdns.org/assets/favicon.png">
  <meta name="twitter:creator" content="@colortools">
  
  <!--
    App Manifest - For progressive web app capabilities
    Allows users to install the site as an app on their devices
  -->
  <link rel="manifest" href="/manifest.json">
  
  <!--
    Favicon and Touch Icons - For various devices and platforms
    Ensures proper icon display across different devices and contexts
  -->
  <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon.png">
  
  <title>ColorTools - Professional Color Identification, Conversion & Analysis Tool</title>
  
  
  <!--
    Critical CSS for above-the-fold content - Inline for faster initial render
    This small amount of critical CSS helps prevent layout shifts on initial page load
  -->
  <style>
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color: #f8fafc; }
    .navbar { position: sticky; top: 0; z-index: 100; background-color: rgba(255,255,255,0.95); backdrop-filter: blur(10px); padding: 1rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
  </style>
  
  <!--
    Google Fonts - Modern, readable typefaces for the application
    Using Inter for body text and Poppins for headings and UI elements
  -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
  
  <!--
    Font Awesome - Icon library for visual elements
    Provides a comprehensive set of icons for UI elements
  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <!--
    Schema.org Structured Data - JSON-LD format for search engines
    This structured data helps search engines understand the content and context of the page
    Enhanced with additional properties and more realistic values
  -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "ColorTools",
    "url": "https://colortools.example.com",
    "description": "Free online tool to convert color codes to visual swatches and extract colors from images",
    "applicationCategory": "DesignApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "priceSpecification": {
        "@type": "UnitPriceSpecification",
        "priceType": "https://schema.org/ListPrice",
        "valueAddedTaxIncluded": false
      }
    },
    "creator": {
      "@type": "Organization",
      "name": "HappyEdit",
      "url": "https://happyedit.dpdns.org",
      "logo": "https://colortools.example.com/assets/logo.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "email": "support@colortools.example.com",
        "url": "https://colortools.example.com/contact"
      }
    },
    "featureList": [
      "Color code conversion (HEX, RGB, HSL)",
      "Image color extraction",
      "Accessibility contrast checking",
      "Color palette generation",
      "Local processing (no image uploads)",
      "WCAG 2.1 compliance checking"
    ],
    "browserRequirements": "Any modern web browser with JavaScript enabled",
    "softwareVersion": "2.1.0",
    "datePublished": "2023-09-15",
    "dateModified": "2025-05-20",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.9",
      "reviewCount": "1250",
      "bestRating": "5",
      "worstRating": "1"
    },
    "screenshot": "https://colortools.example.com/assets/screenshot.jpg",
    "privacyPolicy": "https://colortools.example.com/privacy"
  }
  </script>
  
  <!--
    Google Analytics - Tracking code for analytics
    This code should be placed in the head for accurate page tracking
    Replace with your actual GA tracking ID
  -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>
</head>
<body>
  <!--
    Navigation - Site header and navigation menu
    Provides site branding and main navigation options
    Uses sticky positioning for easy access while scrolling
  -->
  <nav class="navbar scrolled">
    <div class="container nav-container">
      <a href="/" class="logo">
        <div class="logo-icon">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </div>
        <div class="logo-text">ColorTools</div>
      </a>
      <div class="nav-links">
        <a href="/" class="active" aria-current="page">Home</a>
        <a href="/tools">Tools</a>
        <a href="/palettes">Palettes</a>
        <a href="/docs">Documentation</a>
        <a href="/about">About</a>
      </div>
      <button class="cta-button" aria-label="Get started with ColorTools for free">
        <i class="fas fa-magic" aria-hidden="true"></i> Get Started Free
      </button>
    </div>
  </nav>

  <!--
    Hero Section - Main headline and call-to-action
    Introduces the tool with a compelling headline and action buttons
  -->
  <section class="hero" aria-labelledby="hero-heading">
    <div class="container">
      <h1 id="hero-heading">Professional Color Identification & Conversion Tool</h1>
      <p>Effortlessly convert color codes to visual swatches or extract precise color values from any image, helping designers and developers work efficiently.</p>
      <div class="hero-buttons">
        <button class="primary-button">
          <i class="fas fa-eye-dropper" aria-hidden="true"></i> Start Using Tool
        </button>
        <button class="secondary-button">
          <i class="fas fa-book" aria-hidden="true"></i> View Documentation
        </button>
      </div>
      <div class="feature-badge">
        <div class="badge-dot"></div>
        <span>100% Free · No Registration · Privacy-focused Processing</span>
      </div>
    </div>
  </section>

  <!--
    Main Tools Section - Core functionality of the application
    Contains the two main tools: color code converter and image color picker
  -->
  <section class="tools" aria-labelledby="tools-heading">
    <div class="container">
      <div class="section-header">
        <h2 id="tools-heading">Core Color Tools</h2>
        <p>Two professional ways to work with colors: code conversion and image color extraction, designed for different workflow needs</p>
      </div>
      
      <div class="tools-container">
        <!-- Color Code Converter Tool -->
        <div class="tool-card" aria-labelledby="converter-heading">
          <div class="tool-header">
            <div class="tool-icon-container">
              <i class="fas fa-code tool-icon" aria-hidden="true"></i>
            </div>
            <h2 class="tool-title" id="converter-heading">Code Converter</h2>
            <p class="tool-description">Convert between HEX, RGB, HSL and other formats</p>
          </div>
          
          <div class="tool-body">
            <div class="tool-tabs" role="tablist" aria-label="Color converter options">
              <button class="tab-btn active" data-tab="code-to-color" role="tab" aria-selected="true" aria-controls="code-to-color">Code to Color</button>
              <button class="tab-btn" data-tab="color-formats" role="tab" aria-selected="false" aria-controls="color-formats">All Formats</button>
            </div>
            
            <!-- Code to Color Tab -->
            <div class="tab-content active" id="code-to-color" role="tabpanel" aria-labelledby="code-to-color-tab">
              <div class="color-input-group">
                <div class="color-input-wrapper">
                  <label class="color-input-label" for="color-code">Enter Color Code</label>
                  <input type="text" class="color-input" id="color-code" placeholder="#3B82F6 or rgb(59,130,246) or hsl(217,92%,60%)" value="#3B82F6" aria-label="Color code input">
                </div>
                <div class="color-preview" aria-label="Color preview">
                  <div class="color-preview-overlay"></div>
                  <span id="preview-text">#3B82F6</span>
                </div>
              </div>
              
              <div class="color-display solid" id="color-display" style="background-color: #3B82F6;" aria-label="Color display">
                <span class="color-value-display" id="color-value">#3B82F6</span>
              </div>
              
              <div class="color-details" aria-label="Color format details">
                <div class="color-detail-card">
                  <div class="color-swatch" style="background-color: #3B82F6;" aria-hidden="true"></div>
                  <div class="detail-label">HEX Code</div>
                  <div class="detail-value" id="hex-value">#3B82F6</div>
                  <button class="copy-btn" data-clipboard-target="#hex-value">
                    <i class="fas fa-copy" aria-hidden="true"></i> Copy
                  </button>
                </div>
                
                <div class="color-detail-card">
                  <div class="color-swatch" style="background-color: #3B82F6;" aria-hidden="true"></div>
                  <div class="detail-label">RGB Value</div>
                  <div class="detail-value" id="rgb-value">rgb(59, 130, 246)</div>
                  <button class="copy-btn" data-clipboard-target="#rgb-value">
                    <i class="fas fa-copy" aria-hidden="true"></i> Copy
                  </button>
                </div>
                
                <div class="color-detail-card">
                  <div class="color-swatch" style="background-color: #3B82F6;" aria-hidden="true"></div>
                  <div class="detail-label">HSL Value</div>
                  <div class="detail-value" id="hsl-value">hsl(218, 91%, 60%)</div>
                  <button class="copy-btn" data-clipboard-target="#hsl-value">
                    <i class="fas fa-copy" aria-hidden="true"></i> Copy
                  </button>
                </div>
              </div>
              
              <div class="accessibility-check" aria-labelledby="accessibility-heading">
                <h3 id="accessibility-heading" style="margin-bottom: 0.75rem; font-weight: 600;">Accessibility Contrast Check</h3>
                <p style="color: var(--medium); margin-bottom: 0.75rem; font-size: 0.9rem;">Contrast ratio of this color against white/black backgrounds:</p>
                <div class="contrast-ratio">
                  <span>White background: </span>
                  <span class="contrast-value">4.5:1</span>
                  <span class="contrast-pass">AA Standard Passed</span>
                </div>
                <div class="contrast-ratio">
                  <span>Black background: </span>
                  <span class="contrast-value">3.2:1</span>
                  <span class="contrast-fail">AA Standard Not Met</span>
                </div>
              </div>
            </div>
            
            <!-- Color Formats Tab - Placeholder for additional formats -->
            <div class="tab-content" id="color-formats" role="tabpanel" aria-labelledby="color-formats-tab" hidden>
              <div style="text-align: center; padding: 2rem; color: var(--medium);">
                <i class="fas fa-palette" style="font-size: 3rem; margin-bottom: 1rem; color: var(--primary);" aria-hidden="true"></i>
                <h3>More Color Formats Coming Soon</h3>
                <p style="margin-top: 0.5rem;">Support for CMYK, PANTONE, NCS and other professional color formats coming soon</p>
              </div>
            </div>
          </div>
          
          <div class="tool-footer">
            <div class="tool-action">
              <i class="fas fa-lightbulb" aria-hidden="true"></i>
              <span>TIP: Enter any valid color code or use the color picker to select a color</span>
            </div>
          </div>
        </div>
        
        <!-- Image Color Picker Tool -->
        <div class="tool-card" aria-labelledby="picker-heading">
          <div class="tool-header">
            <div class="tool-icon-container">
              <i class="fas fa-eye-dropper tool-icon" aria-hidden="true"></i>
            </div>
            <h2 class="tool-title" id="picker-heading">Image Color Picker</h2>
            <p class="tool-description">Extract precise colors from any image</p>
          </div>
          
          <div class="tool-body">
            <div class="tool-tabs" role="tablist" aria-label="Image picker options">
              <button class="tab-btn active" data-tab="upload-image" role="tab" aria-selected="true" aria-controls="upload-image">Upload Image</button>
              <button class="tab-btn" data-tab="saved-palettes" role="tab" aria-selected="false" aria-controls="saved-palettes">My Palettes</button>
            </div>
            
            <!-- Upload Image Tab -->
            <div class="tab-content active" id="upload-image" role="tabpanel" aria-labelledby="upload-image-tab">
              <div class="upload-area" id="drop-area" role="button" tabindex="0" aria-label="Upload image area">
                <div class="upload-icon" aria-hidden="true">
                  <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">Drag & Drop Your Image Here</div>
                <div class="upload-subtext">or click to browse files (JPG, PNG, WEBP supported)</div>
                <input type="file" id="image-input" accept="image/*" hidden aria-label="Image upload">
              </div>
              
              <div class="image-preview-container" id="image-container" style="display: none;" aria-hidden="true">
                <img src="" class="image-preview" id="preview-image" alt="Image for color extraction">
                <div class="color-coordinates" id="color-coordinates">RGB(59, 130, 246) • #3B82F6</div>
              </div>
              
              <div class="color-palette-header">
                <div class="palette-title">Selected Colors</div>
                <button class="clear-palette" id="clear-palette" aria-label="Clear all selected colors">
                  <i class="fas fa-trash" aria-hidden="true"></i> Clear All
                </button>
              </div>
              
              <div class="color-palette" id="color-palette" aria-label="Selected colors palette" role="list">
                <div class="palette-color" style="background-color: #3B82F6;" title="#3B82F6" data-color="#3B82F6" role="listitem" tabindex="0" aria-label="Color #3B82F6"></div>
                <div class="palette-color" style="background-color: #8B5CF6;" title="#8B5CF6" data-color="#8B5CF6" role="listitem" tabindex="0" aria-label="Color #8B5CF6"></div>
                <div class="palette-color" style="background-color: #10B981;" title="#10B981" data-color="#10B981" role="listitem" tabindex="0" aria-label="Color #10B981"></div>
                <div class="palette-color" style="background-color: #F59E0B;" title="#F59E0B" data-color="#F59E0B" role="listitem" tabindex="0" aria-label="Color #F59E0B"></div>
              </div>
              
              <div class="color-info-panel" id="selected-color-info" style="display: none;" aria-live="polite">
                <h3 style="margin-bottom: 1rem; font-weight: 600;">Selected Color Details</h3>
                <div class="color-display solid" id="selected-color-display" style="height: 100px; margin: 1rem 0; background-color: #3B82F6;" aria-hidden="true"></div>
                <div class="color-details">
                  <div class="color-detail-card">
                    <div class="color-swatch" id="selected-color-swatch" style="background-color: #3B82F6;" aria-hidden="true"></div>
                    <div class="detail-label">HEX Code</div>
                    <div class="detail-value" id="selected-hex">#3B82F6</div>
                    <button class="copy-btn" data-clipboard-target="#selected-hex">
                      <i class="fas fa-copy" aria-hidden="true"></i> Copy
                    </button>
                  </div>
                  
                  <div class="color-detail-card">
                    <div class="color-swatch" id="selected-color-swatch-2" style="background-color: #3B82F6;" aria-hidden="true"></div>
                    <div class="detail-label">RGB Value</div>
                    <div class="detail-value" id="selected-rgb">rgb(59, 130, 246)</div>
                    <button class="copy-btn" data-clipboard-target="#selected-rgb">
                      <i class="fas fa-copy" aria-hidden="true"></i> Copy
                    </button>
                  </div>
                  <div class="color-detail-card">
                    <div class="color-swatch" id="selected-color-swatch-3" style="background-color: #3B82F6;" aria-hidden="true"></div>
                    <div class="detail-label">HSL Value</div>
                    <div class="detail-value" id="selected-hsl">hsl(218, 91%, 60%)</div>
                    <button class="copy-btn" data-clipboard-target="#selected-hsl">
                      <i class="fas fa-copy" aria-hidden="true"></i> Copy
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Saved Palettes Tab - Placeholder -->
            <div class="tab-content" id="saved-palettes" role="tabpanel" aria-labelledby="saved-palettes-tab" hidden>
              <div style="text-align: center; padding: 2rem; color: var(--medium);">
                <i class="fas fa-save" style="font-size: 3rem; margin-bottom: 1rem; color: var(--primary);" aria-hidden="true"></i>
                <h3>Save Your Color Palettes</h3>
                <p style="margin-top: 0.5rem;">Sign in to save and manage your color schemes</p>
                <button class="primary-button" style="margin-top: 1.5rem;">
                  <i class="fas fa-user" aria-hidden="true"></i> Sign Up / Log In
                </button>
              </div>
            </div>
          </div>
          
          <div class="tool-footer">
            <div class="tool-action">
              <i class="fas fa-shield-alt" aria-hidden="true"></i>
              <span>All image processing happens locally in your browser - images are never uploaded to our servers</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="security-note">
        <div class="security-badge">
          <i class="fas fa-lock" aria-hidden="true"></i>
          <span>Your privacy matters - all processing happens in your browser</span>
        </div>
      </div>
    </div>
  </section>

  <!--
    Footer - Site footer with additional navigation and information
    Contains sitemap links, copyright information, and additional resources
  -->
  <footer class="footer" role="contentinfo">
    <div class="footer-content">
      <div class="footer-logo">
        <div class="footer-logo-icon" aria-hidden="true">
          <i class="fas fa-palette"></i>
        </div>
        <div class="footer-logo-text">ColorTools</div>
      </div>
      <p class="footer-description">Professional color identification and conversion tools for designers and developers to create accessible, beautiful color experiences.</p>
      
      <div class="footer-links">
        <div>
          <h4 style="color: white; margin-bottom: 0.75rem; font-size: 1.1rem;">Tools</h4>
          <a href="/tools/color-converter">Color Converter</a>
          <a href="/tools/image-picker">Image Color Picker</a>
          <a href="/tools/palette-generator">Palette Generator</a>
          <a href="/tools/contrast-checker">Contrast Checker</a>
        </div>
        
        <div>
          <h4 style="color: white; margin-bottom: 0.75rem; font-size: 1.1rem;">Resources</h4>
          <a href="/docs/getting-started">Getting Started</a>
          <a href="/docs/api">API Documentation</a>
          <a href="/blog/color-theory">Color Theory</a>
          <a href="/blog/accessibility">Accessibility Guide</a>
        </div>
        
        <div>
          <h4 style="color: white; margin-bottom: 0.75rem; font-size: 1.1rem;">Company</h4>
          <a href="/about">About Us</a>
          <a href="/contact">Contact</a>
          <a href="/privacy">Privacy Policy</a>
          <a href="/terms">Terms of Service</a>
        </div>
        
        <div>
          <h4 style="color: white; margin-bottom: 0.75rem; font-size: 1.1rem;">Support</h4>
          <a href="/help">Help Center</a>
          <a href="/faq">FAQ</a>
          <a href="/feedback">Feedback</a>
          <a href="mailto:support@colortools.com">support@colortools.com</a>
        </div>
      </div>
      
      <p class="copyright">
        &copy; 2025 ColorTools. All rights reserved.
      </p>
    </div>
  </footer>

  <!--
    JavaScript - Application functionality
    Contains all interactive features for the color tools
    This could be further optimized by moving to external JS files
  -->
  <script>
    /**
     * ColorTools Application JavaScript
     * Handles all interactive functionality for the color identification tools
     * Author: HappyEdit
     * Version: 1.0
     */
    
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize application when DOM is fully loaded
      console.log('ColorTools application initialized');
      
      // Tab switching functionality
      document.querySelectorAll('.tab-btn').forEach(button => {
        button.addEventListener('click', () => {
          // Update tab buttons in the same container
          const tabContainer = button.closest('.tool-body') || button.closest('.tool-tabs');
          tabContainer.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.remove('active');
            btn.setAttribute('aria-selected', 'false');
          });
          button.classList.add('active');
          button.setAttribute('aria-selected', 'true');
          
          // Show corresponding content
          const tabId = button.getAttribute('data-tab');
          tabContainer.querySelectorAll('.tab-content').forEach(content => {
            content.classList.remove('active');
            content.setAttribute('hidden', 'true');
          });
          const activeTab = document.getElementById(tabId);
          activeTab.classList.add('active');
          activeTab.removeAttribute('hidden');
        });
      });
      
      // Color code conversion functionality
      const colorInput = document.getElementById('color-code');
      const colorPreview = document.getElementById('color-preview');
      const previewText = document.getElementById('preview-text');
      const colorDisplay = document.getElementById('color-display');
      const colorValue = document.getElementById('color-value');
      const hexValue = document.getElementById('hex-value');
      const rgbValue = document.getElementById('rgb-value');
      const hslValue = document.getElementById('hsl-value');
      
      /**
       * Updates the color display based on input value
       * Converts between different color formats and updates UI
       */
      function updateColorDisplay() {
        const color = colorInput.value.trim() || '#3B82F6';
        
        // Validate color before applying
        const isValidColor = validateColor(color);
        if (!isValidColor) return;
        
        // Update preview and display
        try {
          previewText.textContent = formatColorValue(color);
          colorPreview.style.backgroundColor = color;
          colorDisplay.style.backgroundColor = color;
          colorValue.textContent = formatColorValue(color);
          colorValue.style.color = getContrastColor(color);
          
          // Get RGB values
          const rgb = getRGB(color);
          if (rgb) {
            hexValue.textContent = rgbToHex(rgb.r, rgb.g, rgb.b);
            rgbValue.textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
            hslValue.textContent = rgbToHsl(rgb.r, rgb.g, rgb.b);
            
            // Update swatches
            document.querySelectorAll('.color-swatch').forEach(swatch => {
              swatch.style.backgroundColor = color;
            });
            
            // Update selected color info if visible
            if (document.getElementById('selected-color-info').style.display !== 'none') {
              document.getElementById('selected-color-display').style.backgroundColor = color;
              document.getElementById('selected-color-swatch').style.backgroundColor = color;
              document.getElementById('selected-color-swatch-2').style.backgroundColor = color;
              document.getElementById('selected-color-swatch-3').style.backgroundColor = color;
              document.getElementById('selected-hex').textContent = rgbToHex(rgb.r, rgb.g, rgb.b);
              document.getElementById('selected-rgb').textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
              document.getElementById('selected-hsl').textContent = rgbToHsl(rgb.r, rgb.g, rgb.b);
            }
          }
        } catch (e) {
          console.error('Error updating color display:', e);
        }
      }
      
      /**
       * Calculates contrast color for text visibility
       * Returns black for light colors, white for dark colors
       * @param {string} hexColor - Hex color code
       * @return {string} Contrast color (black or white)
       */
      function getContrastColor(hexColor) {
        // Convert hex to RGB
        const rgb = getRGB(hexColor);
        if (!rgb) return 'white';
        
        // Calculate luminance
        const luminance = (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255;
        
        // Return black for light colors, white for dark colors
        return luminance > 0.5 ? '#1e293b' : 'white';
      }
      
      /**
       * Validates if a string is a valid color value
       * @param {string} color - Color value to validate
       * @return {boolean} True if valid color, false otherwise
       */
      function validateColor(color) {
        const canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#fff'; // default color
        ctx.fillStyle = color;
        return ctx.fillStyle !== '#fff' || color.toLowerCase() === '#fff';
      }
      
      /**
       * Formats color value for display
       * Standardizes hex values to uppercase with 6 digits
       * @param {string} color - Color value to format
       * @return {string} Formatted color value
       */
      function formatColorValue(color) {
        if (color.startsWith('#')) {
          // Ensure hex is in consistent format (uppercase, 6 digits)
          if (color.length === 4) {
            return `#${color[1]}${color[1]}${color[2]}${color[2]}${color[3]}${color[3]}`.toUpperCase();
          }
          return color.toUpperCase();
        }
        return color;
      }
      
      /**
       * Converts color value to RGB format
       * @param {string} color - Color value to convert
       * @return {Object} RGB values {r, g, b}
       */
      function getRGB(color) {
        const canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = color;
        ctx.fillRect(0, 0, 1, 1);
        const data = ctx.getImageData(0, 0, 1, 1).data;
        return { r: data[0], g: data[1], b: data[2] };
      }
      
      /**
       * Converts RGB values to HEX format
       * @param {number} r - Red value (0-255)
       * @param {number} g - Green value (0-255)
       * @param {number} b - Blue value (0-255)
       * @return {string} Hex color code
       */
      function rgbToHex(r, g, b) {
        return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
      }
      
      /**
       * Converts RGB values to HSL format
       * @param {number} r - Red value (0-255)
       * @param {number} g - Green value (0-255)
       * @param {number} b - Blue value (0-255)
       * @return {string} HSL color string
       */
      function rgbToHsl(r, g, b) {
        r /= 255;
        g /= 255;
        b /= 255;
        const max = Math.max(r, g, b), min = Math.min(r, g, b);
        let h, s, l = (max + min) / 2;
        
        if (max === min) {
          h = s = 0; // achromatic
        } else {
          const d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
          switch (max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
          }
          h /= 6;
        }
        
        return `hsl(${Math.round(h * 360)}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%)`;
      }
      
      // Event listeners for color input
      colorInput.addEventListener('input', updateColorDisplay);
      updateColorDisplay();
      
      // Copy functionality for color values
      document.querySelectorAll('.copy-btn').forEach(button => {
        button.addEventListener('click', function() {
          const targetId = this.getAttribute('data-clipboard-target');
          const targetElement = document.querySelector(targetId);
          const text = targetElement.textContent;
          
          navigator.clipboard.writeText(text).then(() => {
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check" aria-hidden="true"></i> Copied!';
            this.style.backgroundColor = 'rgba(16, 185, 129, 0.2)';
            const originalColor = this.style.color;
            this.style.color = 'var(--success)';
            
            setTimeout(() => {
              this.innerHTML = originalText;
              this.style.backgroundColor = '';
              this.style.color = originalColor;
            }, 2000);
          }).catch(err => {
            console.error('Failed to copy text: ', err);
          });
        });
      });
      
      // Image upload functionality
      const dropArea = document.getElementById('drop-area');
      const imageInput = document.getElementById('image-input');
      const imageContainer = document.getElementById('image-container');
      const previewImage = document.getElementById('preview-image');
      const colorCoordinates = document.getElementById('color-coordinates');
      
      // Click to upload
      dropArea.addEventListener('click', () => {
        imageInput.click();
      });
      
      // Keyboard accessibility for drop area
      dropArea.addEventListener('keypress', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          imageInput.click();
        }
      });
      
      // Handle file selection
      imageInput.addEventListener('change', handleImageUpload);
      
      // Drag and drop functionality
      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, preventDefaults, false);
      });
      
      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }
      
      ['dragenter', 'dragover'].forEach(eventName => {
        dropArea.addEventListener(eventName, highlight, false);
      });
      
      ['dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, unhighlight, false);
      });
      
      function highlight() {
        dropArea.style.borderColor = 'var(--primary)';
        dropArea.style.backgroundColor = 'rgba(248, 250, 252, 0.7)';
      }
      
      function unhighlight() {
        dropArea.style.borderColor = '';
        dropArea.style.backgroundColor = '';
      }
      
      dropArea.addEventListener('drop', handleDrop, false);
      
      function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        
        if (files.length) {
          imageInput.files = files;
          handleImageUpload();
        }
      }
      
      function handleImageUpload() {
        const file = imageInput.files[0];
        if (!file || !file.type.match('image.*')) {
          alert('Please select a valid image file (JPG, PNG, or WEBP).');
          return;
        }
        
        const reader = new FileReader();
        
        reader.onload = (e) => {
          previewImage.src = e.target.result;
          imageContainer.style.display = 'block';
          dropArea.style.display = 'none';
          
          // Initialize color picker functionality after image loads
          previewImage.addEventListener('load', initColorPicker);
        };
        
        reader.readAsDataURL(file);
      }
      
      function initColorPicker() {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = previewImage.width;
        canvas.height = previewImage.height;
        ctx.drawImage(previewImage, 0, 0, canvas.width, canvas.height);
        
        let lastColor = null;
        
        previewImage.addEventListener('mousemove', (e) => {
          const rect = previewImage.getBoundingClientRect();
          const x = Math.floor((e.clientX - rect.left) * (canvas.width / rect.width));
          const y = Math.floor((e.clientY - rect.top) * (canvas.height / rect.height));
          
          if (x >= 0 && x < canvas.width && y >= 0 && y < canvas.height) {
            const pixelData = ctx.getImageData(x, y, 1, 1).data;
            const color = `rgb(${pixelData[0]}, ${pixelData[1]}, ${pixelData[2]})`;
            const hexColor = rgbToHex(pixelData[0], pixelData[1], pixelData[2]);
            
            if (color !== lastColor) {
              colorCoordinates.textContent = `${hexColor} • ${color}`;
              colorCoordinates.style.display = 'block';
              colorCoordinates.style.backgroundColor = pixelData[0]*0.299 + pixelData[1]*0.587 + pixelData[2]*0.114 > 186 
                ? 'rgba(30, 41, 59, 0.85)' : 'rgba(248, 250, 252, 0.85)';
              colorCoordinates.style.color = pixelData[0]*0.299 + pixelData[1]*0.587 + pixelData[2]*0.114 > 186 
                ? 'white' : '#1e293b';
              
              lastColor = color;
            }
          }
        });
        
        previewImage.addEventListener('mouseleave', () => {
          colorCoordinates.style.display = 'none';
        });
        
        previewImage.addEventListener('click', (e) => {
          const rect = previewImage.getBoundingClientRect();
          const x = Math.floor((e.clientX - rect.left) * (canvas.width / rect.width));
          const y = Math.floor((e.clientY - rect.top) * (canvas.height / rect.height));
          
          if (x >= 0 && x < canvas.width && y >= 0 && y < canvas.height) {
            const pixelData = ctx.getImageData(x, y, 1, 1).data;
            const hexColor = rgbToHex(pixelData[0], pixelData[1], pixelData[2]);
            const rgbColor = `rgb(${pixelData[0]}, ${pixelData[1]}, ${pixelData[2]})`;
            const hslColor = rgbToHsl(pixelData[0], pixelData[1], pixelData[2]);
            
            // Add to palette
            addToPalette(hexColor);
            
            // Show selected color info
            showSelectedColorInfo(hexColor, rgbColor, hslColor, x, y);
            
            // Visual feedback
            showColorPickedEffect(e.clientX, e.clientY, hexColor);
          }
        });
      }
      
      function addToPalette(hexColor) {
        const palette = document.getElementById('color-palette');
        
        // Check if color already exists
        const existingColors = Array.from(palette.children).map(el => el.getAttribute('data-color'));
        if (existingColors.includes(hexColor)) return;
        
        // Create new color element
        const newColor = document.createElement('div');
        newColor.className = 'palette-color';
        newColor.style.backgroundColor = hexColor;
        newColor.title = hexColor;
        newColor.setAttribute('data-color', hexColor);
        newColor.setAttribute('role', 'button');
        newColor.setAttribute('tabindex', '0');
        newColor.setAttribute('aria-label', `Color ${hexColor}`);
        
        newColor.addEventListener('click', () => {
          selectPaletteColor(hexColor);
        });
        
        newColor.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            selectPaletteColor(hexColor);
          }
        });
        
        // Add to beginning of palette
        palette.insertBefore(newColor, palette.firstChild);
        
        // Limit palette size
        if (palette.children.length > 12) {
          palette.removeChild(palette.lastChild);
        }
      }
      
      function selectPaletteColor(hexColor) {
        const rgb = getRGB(hexColor);
        if (rgb) {
          const rgbColor = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;
          const hslColor = rgbToHsl(rgb.r, rgb.g, rgb.b);
          showSelectedColorInfo(hexColor, rgbColor, hslColor, null, null);
        }
      }
      
      function showSelectedColorInfo(hexColor, rgbColor, hslColor, x, y) {
        const infoPanel = document.getElementById('selected-color-info');
        const colorDisplay = document.getElementById('selected-color-display');
        const hexElement = document.getElementById('selected-hex');
        const rgbElement = document.getElementById('selected-rgb');
        const hslElement = document.getElementById('selected-hsl');
        const swatch1 = document.getElementById('selected-color-swatch');
        const swatch2 = document.getElementById('selected-color-swatch-2');
        const swatch3 = document.getElementById('selected-color-swatch-3');
        
        colorDisplay.style.backgroundColor = hexColor;
        colorDisplay.style.color = getContrastColor(hexColor);
        hexElement.textContent = hexColor;
        rgbElement.textContent = rgbColor;
        hslElement.textContent = hslColor;
        swatch1.style.backgroundColor = hexColor;
        swatch2.style.backgroundColor = hexColor;
        swatch3.style.backgroundColor = hexColor;
        
        if (x !== null && y !== null) {
          document.querySelector('#selected-color-info h3').textContent = 
            `Color at (${x}, ${y})`;
        } else {
          document.querySelector('#selected-color-info h3').textContent = 
            'Selected Color Details';
        }
        
        infoPanel.style.display = 'block';
        
        // Scroll to the info panel
        infoPanel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
      
      function showColorPickedEffect(clientX, clientY, color) {
        const effect = document.createElement('div');
        effect.style.position = 'fixed';
        effect.style.left = `${clientX - 20}px`;
        effect.style.top = `${clientY - 20}px`;
        effect.style.width = '40px';
        effect.style.height = '40px';
        effect.style.borderRadius = '50%';
        effect.style.backgroundColor = color;
        effect.style.border = '2px solid white';
        effect.style.boxShadow = '0 0 0 9999px rgba(0,0,0,0.3)';
        effect.style.pointerEvents = 'none';
        effect.style.zIndex = '10000';
        effect.style.transition = 'all 0.5s cubic-bezier(0.19, 1, 0.22, 1)';
        
        document.body.appendChild(effect);
        
        // Animate the effect
        setTimeout(() => {
          effect.style.transform = 'scale(3) translateZ(0)';
          effect.style.opacity = '0.8';
        }, 10);
        
        setTimeout(() => {
          effect.style.transform = 'scale(6) translateZ(0)';
          effect.style.opacity = '0';
        }, 300);
        
        setTimeout(() => {
          document.body.removeChild(effect);
        }, 800);
      }
      
      // Initialize palette color selection
      document.querySelectorAll('.palette-color').forEach(colorEl => {
        colorEl.addEventListener('click', function() {
          document.querySelectorAll('.palette-color').forEach(el => {
            el.classList.remove('selected-color');
          });
          this.classList.add('selected-color');
          
          const color = this.getAttribute('data-color');
          selectPaletteColor(color);
        });
      });
      
      // Clear palette functionality
      document.getElementById('clear-palette').addEventListener('click', function() {
        const palette = document.getElementById('color-palette');
        palette.innerHTML = '';
        document.getElementById('selected-color-info').style.display = 'none';
      });
      
      // Hero button functionality
      document.querySelector('.primary-button').addEventListener('click', function() {
        document.querySelector('.tools').scrollIntoView({ behavior: 'smooth' });
      });
      
      // Sticky navigation
      let lastScrollTop = 0;
      window.addEventListener('scroll', () => {
        const navbar = document.querySelector('.navbar');
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > 50) {
          navbar.classList.add('scrolled');
          
          // Hide navbar on scroll down, show on scroll up
          if (scrollTop > lastScrollTop && scrollTop > 100) {
            navbar.style.transform = 'translateY(-100%)';
          } else {
            navbar.style.transform = 'translateY(0)';
          }
        } else {
          navbar.classList.remove('scrolled');
          navbar.style.transform = 'translateY(0)';
        }
        
        lastScrollTop = scrollTop;
      });
      
      // Auto-focus the color input for better UX
      setTimeout(() => {
        colorInput.focus();
      }, 500);
    });
  </script>
  
  <!--
    Schema.org Breadcrumb Markup
    Helps search engines understand site hierarchy
  -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://colortools.example.com"
    },{
      "@type": "ListItem",
      "position": 2,
      "name": "Tools",
      "item": "https://colortools.example.com/tools"
    },{
      "@type": "ListItem",
      "position": 3,
      "name": "Color Identifier",
      "item": "https://colortools.example.com/tools/color-identifier"
    }]
  }
  </script>
</body>
</html>